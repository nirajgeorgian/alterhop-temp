{"version":3,"sources":["../../src/models/user.model.js"],"names":["mongoose","require","Schema","UserSchema","name","String","username","email","password","statics","hashPassword","length","key","crypto","pbkdf2Sync","process","env","HASH_SECRET","toString","verifyPassword","UserModel","model"],"mappings":";;;;;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,SAASF,SAASE,MAAxB;;AAEA,IAAMC,aAAa,IAAID,MAAJ,CAAW;AAC7BE,OAAMC,MADuB;AAE7BC,WAAUD,MAFmB;AAG7BE,QAAOF,MAHsB;AAI7BG,WAAUH;AAJmB,CAAX,CAAnB;;AAOA;;;;;AAKAF,WAAWM,OAAX,CAAmBC,YAAnB,GAAkC,YAAsB;AAAA,KAAbC,MAAa,uEAAJ,EAAI;;AACvD,KAAMC,MAAMC,OAAOC,UAAP,CAAkB,KAAKN,QAAvB,EAAiCO,QAAQC,GAAR,CAAYC,WAA7C,EAA0D,MAA1D,EAAkEN,MAAlE,EAA0E,QAA1E,CAAZ;AACA,MAAKH,QAAL,GAAgBI,IAAIM,QAAJ,CAAa,KAAb,CAAhB;AACA,QAAO,IAAP;AACA,CAJD;;AAMAf,WAAWM,OAAX,CAAmBU,cAAnB,GAAoC,UAASX,QAAT,EAAgC;AAAA,KAAbG,MAAa,uEAAJ,EAAI;;AACnE,KAAMC,MAAMC,OAAOC,UAAP,CAAkBN,QAAlB,EAA4BO,QAAQC,GAAR,CAAYC,WAAxC,EAAqD,MAArD,EAA6DN,MAA7D,EAAqE,QAArE,CAAZ;AACA,KAAG,KAAKH,QAAL,KAAkBI,GAArB,EAA0B;AACzB,SAAO,IAAP;AACA;AACD,QAAO,KAAP;AACA,CAND;;AASA,IAAMQ,YAAYpB,SAASqB,KAAT,CAAe,MAAf,EAAuBlB,UAAvB,CAAlB;;kBAEeiB,S","file":"user.model.js","sourcesContent":["const mongoose = require('mongoose')\nconst Schema = mongoose.Schema\n\nconst UserSchema = new Schema({\n\tname: String,\n\tusername: String,\n\temail: String,\n\tpassword: String\n})\n\n/*\n\tMethod's to encrypt and decrypt the password\n\t@params {password}\n\t@return {hashed password}\n*/\nUserSchema.statics.hashPassword = function(length = 64) {\n\tconst key = crypto.pbkdf2Sync(this.password, process.env.HASH_SECRET, 100000, length, 'sha512')\n\tthis.password = key.toString('hex')\n\treturn true\n}\n\nUserSchema.statics.verifyPassword = function(password, length = 64) {\n\tconst key = crypto.pbkdf2Sync(password, process.env.HASH_SECRET, 100000, length, 'sha512')\n\tif(this.password === key) {\n\t\treturn true\n\t}\n\treturn false\n}\n\n\nconst UserModel = mongoose.model('user', UserSchema)\n\nexport default UserModel\n"]}